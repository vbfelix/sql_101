<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>sql_101</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="002_sql_101_comandos_basicos_files/libs/clipboard/clipboard.min.js"></script>
<script src="002_sql_101_comandos_basicos_files/libs/quarto-html/quarto.js"></script>
<script src="002_sql_101_comandos_basicos_files/libs/quarto-html/popper.min.js"></script>
<script src="002_sql_101_comandos_basicos_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="002_sql_101_comandos_basicos_files/libs/quarto-html/anchor.min.js"></script>
<link href="002_sql_101_comandos_basicos_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="002_sql_101_comandos_basicos_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="002_sql_101_comandos_basicos_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="002_sql_101_comandos_basicos_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="002_sql_101_comandos_basicos_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#comandos-básicos" id="toc-comandos-básicos" class="nav-link active" data-scroll-target="#comandos-básicos">Comandos básicos</a>
  <ul class="collapse">
  <li><a href="#from" id="toc-from" class="nav-link" data-scroll-target="#from">FROM</a>
  <ul class="collapse">
  <li><a href="#descrição" id="toc-descrição" class="nav-link" data-scroll-target="#descrição">Descrição</a></li>
  <li><a href="#sintaxeexemplo" id="toc-sintaxeexemplo" class="nav-link" data-scroll-target="#sintaxeexemplo">Sintaxe/exemplo</a></li>
  <li><a href="#observações" id="toc-observações" class="nav-link" data-scroll-target="#observações">Observações</a></li>
  </ul></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select">SELECT</a>
  <ul class="collapse">
  <li><a href="#descrição-1" id="toc-descrição-1" class="nav-link" data-scroll-target="#descrição-1">Descrição</a></li>
  <li><a href="#sintaxeexemplo-1" id="toc-sintaxeexemplo-1" class="nav-link" data-scroll-target="#sintaxeexemplo-1">Sintaxe/exemplo</a></li>
  <li><a href="#observações-1" id="toc-observações-1" class="nav-link" data-scroll-target="#observações-1">Observações</a></li>
  </ul></li>
  <li><a href="#where" id="toc-where" class="nav-link" data-scroll-target="#where">WHERE</a>
  <ul class="collapse">
  <li><a href="#descrição-2" id="toc-descrição-2" class="nav-link" data-scroll-target="#descrição-2">Descrição</a></li>
  <li><a href="#sintaxeexemplo-2" id="toc-sintaxeexemplo-2" class="nav-link" data-scroll-target="#sintaxeexemplo-2">Sintaxe/exemplo</a></li>
  <li><a href="#operadores" id="toc-operadores" class="nav-link" data-scroll-target="#operadores">Operadores</a></li>
  </ul></li>
  <li><a href="#group-by" id="toc-group-by" class="nav-link" data-scroll-target="#group-by">GROUP BY</a>
  <ul class="collapse">
  <li><a href="#descrição-3" id="toc-descrição-3" class="nav-link" data-scroll-target="#descrição-3">Descrição</a></li>
  <li><a href="#funções-de-sumarização" id="toc-funções-de-sumarização" class="nav-link" data-scroll-target="#funções-de-sumarização">Funções de sumarização</a></li>
  <li><a href="#sintaxeexemplo-3" id="toc-sintaxeexemplo-3" class="nav-link" data-scroll-target="#sintaxeexemplo-3">Sintaxe/exemplo</a></li>
  </ul></li>
  <li><a href="#having" id="toc-having" class="nav-link" data-scroll-target="#having">HAVING</a>
  <ul class="collapse">
  <li><a href="#descrição-4" id="toc-descrição-4" class="nav-link" data-scroll-target="#descrição-4">Descrição</a></li>
  <li><a href="#sintaxeexemplo-4" id="toc-sintaxeexemplo-4" class="nav-link" data-scroll-target="#sintaxeexemplo-4">Sintaxe/exemplo</a></li>
  </ul></li>
  <li><a href="#order-by" id="toc-order-by" class="nav-link" data-scroll-target="#order-by">ORDER BY</a>
  <ul class="collapse">
  <li><a href="#descrição-5" id="toc-descrição-5" class="nav-link" data-scroll-target="#descrição-5">Descrição</a></li>
  <li><a href="#sintaxeexemplo-5" id="toc-sintaxeexemplo-5" class="nav-link" data-scroll-target="#sintaxeexemplo-5">Sintaxe/exemplo</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#boas-práticas" id="toc-boas-práticas" class="nav-link" data-scroll-target="#boas-práticas">Boas práticas</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">sql_101</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="comandos-básicos" class="level1">
<h1>Comandos básicos</h1>
<p>O SQL possui 6 comandos básicos universais para consulta, em que o SQL tem a especificidade de ordem de escrita, que não coincide com a ordem de processamento</p>
<table class="table">
<thead>
<tr class="header">
<th>#</th>
<th>Ordem de escrita</th>
<th>Ordem de processamento</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>SELECT</td>
<td>FROM</td>
</tr>
<tr class="even">
<td>2</td>
<td>FROM</td>
<td>WHERE</td>
</tr>
<tr class="odd">
<td>3</td>
<td>WHERE</td>
<td>GROUP BY</td>
</tr>
<tr class="even">
<td>4</td>
<td>GROUP BY</td>
<td>HAVING</td>
</tr>
<tr class="odd">
<td>5</td>
<td>HAVING</td>
<td>SELECT</td>
</tr>
<tr class="even">
<td>6</td>
<td>ORDER BY</td>
<td>ORDER BY</td>
</tr>
</tbody>
</table>
<section id="from" class="level2">
<h2 class="anchored" data-anchor-id="from">FROM</h2>
<section id="descrição" class="level3">
<h3 class="anchored" data-anchor-id="descrição">Descrição</h3>
<p>O comando <code>FROM</code>&nbsp;é usado para especificar a tabela a partir das quais os dados serão selecionados em uma consulta <code>SELECT</code>.</p>
</section>
<section id="sintaxeexemplo" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo">Sintaxe/exemplo</h3>
<pre><code>SELECT *
FROM animais a
;</code></pre>
<p>No exemplo acima selecionamos todos os campos da tabela de nome <code>animais</code></p>
</section>
<section id="observações" class="level3">
<h3 class="anchored" data-anchor-id="observações">Observações</h3>
<ul>
<li>Podemos criar um <em>alias</em> para tabela, ou seja, um nome de referência para tabela que pode ser utilizado para diferenciar quais campos pertencentes a quais tabelas, utilizados como prefixo seguido de um ponto, como veremos a seguir.</li>
</ul>
</section>
</section>
<section id="select" class="level2">
<h2 class="anchored" data-anchor-id="select">SELECT</h2>
<section id="descrição-1" class="level3">
<h3 class="anchored" data-anchor-id="descrição-1">Descrição</h3>
<p>O comando <code>SELECT</code> é usado para selecionar dados de uma tabela, deve ser seguido pelo nome dos campos e/ou funções a serem selecionados.</p>
</section>
<section id="sintaxeexemplo-1" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo-1">Sintaxe/exemplo</h3>
<pre><code>SELECT a.id
FROM animais a
;</code></pre>
<p>No exemplo acima selecionamos o campo <code>id</code> de cada linha da tabela <code>animal</code>.</p>
</section>
<section id="observações-1" class="level3">
<h3 class="anchored" data-anchor-id="observações-1">Observações</h3>
<ul>
<li><p>Caso queiramos seleciona todos os campos podemos usar o símbolo <code>*</code></p></li>
<li><p>Podemos aplicar funções nos campos no <code>SELECT</code></p></li>
<li><p>Podemos renomear os campos com o comando <code>AS</code> como vemos abaixo</p></li>
</ul>
<!-- -->
<pre><code>SELECT a.id AS animal_id
FROM animais a
;</code></pre>
</section>
</section>
<section id="where" class="level2">
<h2 class="anchored" data-anchor-id="where">WHERE</h2>
<section id="descrição-2" class="level3">
<h3 class="anchored" data-anchor-id="descrição-2">Descrição</h3>
<p>O comando <code>WHERE</code> é usado para filtrar os resultados de uma consulta <code>SELECT</code>, retornando apenas as linhas que atendem a uma determinada condição.</p>
</section>
<section id="sintaxeexemplo-2" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo-2">Sintaxe/exemplo</h3>
<pre><code>SELECT *
FROM animais a
WHERE a.status = 1
;</code></pre>
<p>No exemplo acima selecionamos todos os registros cujo campo <code>status</code> seja igual a 1.</p>
</section>
<section id="operadores" class="level3">
<h3 class="anchored" data-anchor-id="operadores">Operadores</h3>
<p>Para aplicar condições no filtro precisamos usar operadores, os principais são:</p>
<section id="igualdade" class="level4">
<h4 class="anchored" data-anchor-id="igualdade">Igualdade</h4>
<p>A igualdade é dada pelo símbolo <code>=</code></p>
<pre><code>SELECT *
FROM animais a
WHERE a.status = 1
;</code></pre>
<p>No caso de texto temos que nos lembrar das aspas</p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome = 'Nelore'
;</code></pre>
</section>
<section id="diferente" class="level4">
<h4 class="anchored" data-anchor-id="diferente">Diferente</h4>
<p>O contrário da igualdade, pode variar com o SQL vamos normalmente é dado por <code>!=</code> ou <code>&lt;&gt;</code></p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome &lt;&gt; 'Nelore'
;</code></pre>
</section>
<section id="maiormenor" class="level4">
<h4 class="anchored" data-anchor-id="maiormenor">Maior/menor</h4>
<p>No caso de menor que:</p>
<pre><code>SELECT *
FROM animais_peso ap 
WHERE peso &lt; 500
;</code></pre>
<p>No caso menor ou igual que</p>
<pre><code>SELECT *
FROM animais_peso ap 
WHERE peso &lt;= 500
;</code></pre>
<p>No caso de maior que:</p>
<pre><code>SELECT *
FROM animais_peso ap 
WHERE peso &gt; 500
;</code></pre>
<p>No caso maior ou igual que</p>
<pre><code>SELECT *
FROM animais_peso ap 
WHERE peso &gt; 500
;</code></pre>
</section>
<section id="and-e-or" class="level4">
<h4 class="anchored" data-anchor-id="and-e-or">AND e OR</h4>
<p>Estes operadores permitem encadear múltiplos operadores, seja com condições concomitantes (<code>AND</code>) ou pelo menos uma delas (<code>OR</code>)</p>
<p>Imagine que queiramos o <code>id</code> das raças <code>Nelore</code> e <code>Nelore Mocho</code>:</p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome = 'Nelore' OR r.nome = 'Nelore Mocho'
;</code></pre>
<p>Neste caso aplicamos <code>OR</code> pois um animal não pode ter duas raças nesta tabela.</p>
<p>Agora imaginemos que queiramos as raças acimas, desde que estejam ativas, isto é, <code>status = 1</code></p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome = 'Nelore' OR r.nome = 'Nelore Mocho' AND r.status = 1
;</code></pre>
</section>
<section id="in" class="level4">
<h4 class="anchored" data-anchor-id="in">IN</h4>
<p>No exemplo acima, vimos que precisamos repetir alguns comandos para igualar as raças, o operador IN tem como função filtrar os valores contidos em um vetor de valores.</p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome IN ('Nelore','Nelore Mocho')
;</code></pre>
<p>No exemplo acima colocamos entre parênteses as duas raças de interesse</p>
</section>
<section id="like" class="level4">
<h4 class="anchored" data-anchor-id="like">LIKE</h4>
<p>Porém quando tratamos de texto podemos ter casos em que não temos certeza dos termos integrais de interesse, desta forma o comando <code>LIKE</code> permite esta comparação parcial.</p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome LIKE 'Nelore%'
;</code></pre>
<p>No exemplo acima buscamos as raças que começam com <code>'Nelore'</code> , a seguir veremos como usar o símbolo <code>%</code> aliado ao <code>LIKE</code> , considerando um campo de texto chamado <code>Name</code></p>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th><strong>LIKE&nbsp;​</strong></th>
<th><strong>Descrição​</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>WHERE Name LIKE ‘a%’​</td>
<td>Termos que começam com&nbsp;“a”​</td>
</tr>
<tr class="even">
<td>WHERE Name LIKE ‘%a’​</td>
<td>Termos que terminam com&nbsp;“a”​</td>
</tr>
<tr class="odd">
<td>WHERE Name LIKE ‘%or%’​</td>
<td>Termos que contém “or”​</td>
</tr>
<tr class="even">
<td>WHERE Name LIKE ‘_r%’​</td>
<td>Termos que tem “r” na segunda posição​</td>
</tr>
<tr class="odd">
<td>WHERE Name LIKE ‘a_%’​</td>
<td>Termos que começam com “a” e tem ao menos 2 caracteres​</td>
</tr>
<tr class="even">
<td>WHERE Name LIKE ‘a__%’​</td>
<td>Termos que começam com “a” e tem ao menos 3 caracteres​</td>
</tr>
<tr class="odd">
<td>WHERE Name LIKE ‘a%o’​</td>
<td>Termos que começam com&nbsp;“a” e terminam com “o”​</td>
</tr>
</tbody>
</table>
</section>
<section id="null" class="level4">
<h4 class="anchored" data-anchor-id="null">NULL</h4>
<p><img src="images/paste-1D7EAEA5.png" class="img-fluid"></p>
<p>Como podemos aplicar então?</p>
<pre><code>SELECT *
FROM animais a 
WHERE a.dt_nascimento IS NULL
;</code></pre>
<p>No exemplo acima selecionamos animais cuja data de nascimento está vazio.</p>
<p>Nota-se o uso também do operador <code>IS</code> , isto se dá pois para filtrar um valor nulo ao invés do operador de comparação igual (<code>=</code>) é que o valor nulo é um valor especial que não pode ser comparado diretamente com outros valores usando o operador de igualdade.</p>
</section>
<section id="not" class="level4">
<h4 class="anchored" data-anchor-id="not">NOT</h4>
<p>O operador <code>NOT</code> implica em negação, este pode ser utilizado para negar qualquer condição</p>
<pre><code>SELECT *
FROM animais a 
WHERE a.dt_nascimento IS NOT NULL
;</code></pre>
<p>No exemplo acima temos os animais cuja data de nascimento está preenchida.</p>
<pre><code>SELECT r.id
FROM racas r
WHERE NOT(r.nome IN ('Nelore','Nelore Mocho'))
;</code></pre>
<p>No exemplo acima temos as raças que não <code>Nelore</code> e <code>Nelore Mocho</code> . Poderíamos também reescrever da seguinte forma:</p>
<pre><code>SELECT r.id
FROM racas r
WHERE r.nome NOT IN ('Nelore','Nelore Mocho')
;</code></pre>
</section>
</section>
</section>
<section id="group-by" class="level2">
<h2 class="anchored" data-anchor-id="group-by">GROUP BY</h2>
<section id="descrição-3" class="level3">
<h3 class="anchored" data-anchor-id="descrição-3">Descrição</h3>
<p>O comando <code>GROUP BY</code> é usado para sumarizar os resultados de uma consulta <code>SELECT</code> com base em valores em uma ou mais colunas.</p>
</section>
<section id="funções-de-sumarização" class="level3">
<h3 class="anchored" data-anchor-id="funções-de-sumarização">Funções de sumarização</h3>
<p>Este tipo de função tem por natureza gerar um resultado cujo tamanho seja inferior aos dados originais, por exemplo, se eu tiver 10 valores e aplicar uma média terei 1 valor como resultante</p>
<section id="contagem" class="level4">
<h4 class="anchored" data-anchor-id="contagem">Contagem</h4>
<p>Talvez a função mais famosa de sumarização seja a função de contagem, que conta o número de linhas, e é dada pelo comando <code>COUNT</code></p>
<pre><code>SELECT COUNT(*)
FROM animais a
;</code></pre>
<p>No exemplo acima contamos o número total de registros na tabela.</p>
</section>
<section id="valores-distintos" class="level4">
<h4 class="anchored" data-anchor-id="valores-distintos">Valores distintos</h4>
<p>Digamos que queiramos as raças distintas (únicas) presentes no cliente</p>
<pre><code>SELECT DISTINCT(a.racas_id)
FROM animais a
;</code></pre>
<p>No exemplo acima retornaremos as raças únicas na tabela, sem considerar a quantidade.</p>
</section>
<section id="estatísticas-básicas" class="level4">
<h4 class="anchored" data-anchor-id="estatísticas-básicas">Estatísticas básicas</h4>
<p>Para aplicar funções básicas da estatísticas temos os seguintes comandos:</p>
<ul>
<li><p><code>SUM()</code> - Soma dos valores</p></li>
<li><p><code>AVG()</code> - Média dos valores</p></li>
<li><p><code>MAX()</code> - Valor máximo</p></li>
<li><p><code>MIN()</code> - Valor mínimo</p></li>
</ul>
</section>
<section id="funções-aninhadas" class="level4">
<h4 class="anchored" data-anchor-id="funções-aninhadas">Funções aninhadas</h4>
<p>Podemos também combinar funções, digamos que queremos saber quantas raças o cliente possui</p>
<pre><code>SELECT COUNT(DISTINCT(a.racas_id))
FROM animais a
;</code></pre>
<p>No exemplo acima temos o número de raças distintas presentes nos animais.</p>
</section>
</section>
<section id="sintaxeexemplo-3" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo-3">Sintaxe/exemplo</h3>
<p>Entendendo as funções de sumarização vamos agora aplicar estas funções por uma ou mais variáveis.</p>
<pre><code>SELECT a.status,COUNT(*)
FROM animais a 
GROUP BY a.status
;</code></pre>
<p>No exemplo acima contamos o número de linhas por <code>status</code>, ou seja, temos o número de animais para cada status, importante notar que o campo se repete tanto <code>SELECT</code> quanto no <code>GROUP BY</code>, o motivo é que ao existir no <code>SELECT</code> este dá visibilidade para saber o que cada contagem remete.</p>
</section>
</section>
<section id="having" class="level2">
<h2 class="anchored" data-anchor-id="having">HAVING</h2>
<section id="descrição-4" class="level3">
<h3 class="anchored" data-anchor-id="descrição-4">Descrição</h3>
<p>O comando <code>HAVING</code> é usado em conjunto com o comando <code>GROUP BY</code> para filtrar os resultados agrupados com base em uma condição.</p>
<p>Ou seja, é um <code>WHERE</code> para funções de sumarização quando uso <code>GROUP BY</code></p>
</section>
<section id="sintaxeexemplo-4" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo-4">Sintaxe/exemplo</h3>
<p>Digamos que queira saber quantos registros de animais existem por <code>status</code>, que possuem mais de 1.000 registros?</p>
<pre><code>SELECT a.status,COUNT(*)
FROM animais a 
GROUP BY a.status
HAVING COUNT(*) &gt; 1000
;</code></pre>
</section>
</section>
<section id="order-by" class="level2">
<h2 class="anchored" data-anchor-id="order-by">ORDER BY</h2>
<section id="descrição-5" class="level3">
<h3 class="anchored" data-anchor-id="descrição-5">Descrição</h3>
<p>O comando <code>ORDER BY</code> é usado para ordenar os resultados de uma consulta <code>SELECT</code> em ordem crescente ou decrescente com base em uma ou mais colunas.</p>
</section>
<section id="sintaxeexemplo-5" class="level3">
<h3 class="anchored" data-anchor-id="sintaxeexemplo-5">Sintaxe/exemplo</h3>
<p>Vamos repetir o exemplo visto no comando <code>HAVING</code>, porém ordenando os valores pelo número do status de forma crescente</p>
<pre><code>SELECT status,COUNT(*)
FROM animais a 
GROUP BY status
HAVING COUNT(*) &gt; 1000
ORDER BY status
;</code></pre>
<p>Por padrão o <code>ORDER BY</code> faz a ordenção por ordem crescente, porém podemos enunciar isto ao adicionar o comando <code>ASC</code></p>
<pre><code>SELECT status,COUNT(*)
FROM animais a 
GROUP BY status
HAVING COUNT(*) &gt; 1000
ORDER BY status ASC
;</code></pre>
<p>Caso desejemos a ordem decrescente</p>
<pre><code>SELECT status,COUNT(*)
FROM animais a 
GROUP BY status
HAVING COUNT(*) &gt; 1000
ORDER BY status DESC
;</code></pre>
</section>
</section>
</section>
<section id="boas-práticas" class="level1">
<h1>Boas práticas</h1>
<ul>
<li><p>Comandos/funções em letras maiúsculas</p></li>
<li><p>Tabelas e campos em letras minúsculas</p></li>
<li><p>Quebrar linhas para cada comando básico</p></li>
<li><p>Quebrar linhas em casos de muitos campos ou com renomeação de campos</p></li>
<li><p>*Finalizar consultar com <code>;</code></p></li>
<li><p>*Adicionar comentários</p>
<ul>
<li><p>Iniciar a linha de comando com <code>--</code></p></li>
<li><p>Colocar os comandos entre <code>/*</code> e <code>*/</code></p></li>
</ul></li>
</ul>
<p>*Estes pontos podem variar com o tipo de SQL</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>